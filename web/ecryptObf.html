<!DOCTYPE html><html><head><meta charset="UTF-8"><title>E-Crypt</title><meta name="viewport" content="width=device-width,initial-scale=1"><style>body{font-family:Arial,sans-serif;margin:0;padding:20px;background-color:#f8f9fa}.container{max-width:600px;margin:0 auto;background:#fff;padding:20px;box-shadow:0 0 10px rgba(0,0,0,0.1)}h1{text-align:center;margin-top:0}.tab-container{display:flex;margin-bottom:20px;border-bottom:1px solid #ccc}.tab{flex:1;text-align:center;padding:10px 0;cursor:pointer;font-weight:bold;transition:background-color 0.3s ease}.tab.active{border-bottom:3px solid #007bff;color:#007bff}.tab:hover{background-color:#f0f0f0}.tab-content{display:none}.tab-content.active{display:block}textarea,input[type="password"],input[type="file"],button{width:100%;padding:10px;margin:10px 0;font-size:1rem;box-sizing:border-box}canvas{display:block;max-width:100%;height:auto;margin:0 auto 10px;border:1px solid #ccc}img#k{display:none;max-width:100%;margin:10px auto}a{display:inline-block;width:100%;text-align:center;text-decoration:none;background-color:#007bff;color:#fff;padding:10px 0;border-radius:4px;margin-bottom:10px}a:hover{background-color:#0056b3}@media (max-width:600px){body{padding:10px}}</style></head><body><div class="container"><h1>E-Crypt</h1><!-- Tab Navigation --><div class="tab-container"><div class="tab active" id="a">Encode</div><div class="tab" id="b">Decode</div></div><!-- Encode Tab Content --><div class="tab-content active" id="c"><h2>Encoding</h2><textarea id="e" placeholder="Enter message to encode"></textarea><input type="password" id="f" placeholder="Enter password"><button id="g">Encode</button><canvas id="h" width="100" height="100"></canvas><a id="i" download="encoded.png">Download Encoded Image</a></div><!-- Decode Tab Content --><div class="tab-content" id="d"><h2>Decoding</h2><input type="file" id="j"><img id="k" alt="Loaded Image Preview"><input type="password" id="l" placeholder="Enter password"><button id="m">Decode</button><textarea id="n" disabled></textarea></div></div><script>(function(){var a=document.getElementById("a"),b=document.getElementById("b"),c=document.getElementById("c"),d=document.getElementById("d");a.addEventListener("click",function(){a.classList.add("active");b.classList.remove("active");c.classList.add("active");d.classList.remove("active")});b.addEventListener("click",function(){b.classList.add("active");a.classList.remove("active");d.classList.add("active");c.classList.remove("active")})})();function X1(Y){var Z=1779033703,aa=3144134277,ab=1013904242,ac=2773480762;for(var i=0;i<Y.length;i++){var ad=Y.charCodeAt(i);Z=aa^Math.imul(Z^ad,597399067);aa=ab^Math.imul(aa^ad,2869860233);ab=ac^Math.imul(ab^ad,951274213);ac=Z^Math.imul(ac^ad,2716044179)}return [Z>>>0,aa>>>0,ab>>>0,ac>>>0]}function X2(a){return function(){a+=0x6D2B79F5;var b=a;b=Math.imul(b^(b>>>15),b|1);b^=b+Math.imul(b^(b>>>7),b|61);return ((b^(b>>>14))>>>0)/4294967296}}function X3(str){return str.split("").map(function(ch){return ch.charCodeAt(0).toString(2).padStart(8,"0")}).join("")}function X4(bin){var s="";for(var i=0;i<bin.length;i+=8)s+=String.fromCharCode(parseInt(bin.substr(i,8),2));return s}function X5(tp,seed){var arr=Array.from({length:tp},function(_,i){return i}),r=X2(seed);for(var i=arr.length-1;i>0;i--){var j=Math.floor(r()*(i+1)),tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}return arr}document.getElementById("g").addEventListener("click",function(){var E=document.getElementById("e").value,F=document.getElementById("f").value;if(!E||!F){alert("Please enter both a message and a password.");return}if(E.length>65535){alert("Message too long. Maximum length is 65535 characters.");return}var G=E.length.toString(2).padStart(16,"0"),H=X3(E),I=G+H,J=I.length,K=document.getElementById("h"),L=K.getContext("2d"),M=K.width,N=K.height,O=M*N;if(J>O){alert("Message too long for the canvas size. Use a smaller message or a larger canvas.");return}var P=L.createImageData(M,N),Q=P.data,R=X1(F),S=R[0],T=X2(S);for(var i=0;i<O;i++){Q[i*4]=Math.floor(T()*256);Q[i*4+1]=Math.floor(T()*256);Q[i*4+2]=Math.floor(T()*256);Q[i*4+3]=255}var U=X5(O,S);for(var i=0;i<J;i++){var idx=U[i],bit=I[i];Q[idx*4+3]=(bit==="0")?254:255}L.putImageData(P,0,0);document.getElementById("i").href=K.toDataURL()});document.getElementById("j").addEventListener("change",function(){var a=this;if(a.files&&a.files[0]){var b=new FileReader();b.onload=function(e){var c=document.getElementById("k");c.src=e.target.result;c.style.display="block"};b.readAsDataURL(a.files[0])}});document.getElementById("m").addEventListener("click",function(){var v=document.getElementById("j"),w=document.getElementById("l").value;if(v.files.length===0||!w){alert("Please upload an image and enter the password.");return}var x=v.files[0],y=new Image(),z=new FileReader();z.onload=function(e){y.src=e.target.result};y.onload=function(){var a1=document.createElement("canvas");a1.width=y.width;a1.height=y.height;var a2=a1.getContext("2d");a2.drawImage(y,0,0);var a3=a2.getImageData(0,0,a1.width,a1.height),a4=a3.data,a5=a1.width*a1.height,a6=X1(w),a7=a6[0],a8=X5(a5,a7),a9="";for(var i=0;i<16;i++){var idx=a8[i],alpha=a4[idx*4+3];a9+=(alpha%2===0?"0":"1")}var b0=parseInt(a9,2),b1="";for(var i=16;i<16+b0*8;i++){var idx=a8[i],alpha=a4[idx*4+3];b1+=(alpha%2===0?"0":"1")}document.getElementById("n").textContent="Decoded Message: "+X4(b1)};z.readAsDataURL(x)});</script></body></html>
